#textdomain wesnoth-Bad_Moon_Rising

[unit_type]
	id=Primeval Storm
	name= _ "Storm Cantor"
	race=primeval
	gender=female
	image="units/primeval/storm.png"
	profile="portraits/athanta.png"
	{MAGENTA_IS_THE_TEAM_COLOR}
	hitpoints=86
	movement_type=primevalfoot
	movement=8
	experience=75
	level=3
	alignment=chaotic
	advances_to=null
	{AMLA_DEFAULT}
	cost=80
	usage=scout
	description= _ "The Storm Cantor is roughly the Primeval equivalent to a mage.  Their name comes from the fact that they can not only call lightning strikes, but they can also coax the wind and dark clouds to do their bidding. 
Special Note:"+{SPECIAL_NOTES_REGENERATES}+{SPECIAL_NOTES_MAGICAL}
	die_sound=lich-die.ogg
    [portrait]
        size=500
        side="left"
        mirror="false"
        image="portraits/athanta.png"
    [/portrait]
    [portrait]
        size=500
        side="right"
        mirror="true"
        image="portraits/athanta.png"
    [/portrait]
	[resistance]
		blade=80
		pierce=80
		impact=80
		cold=50
		arcane=100
	[/resistance]
	[abilities]
		{ABILITY_REGENERATES}
	[/abilities]
	[attack]
		name=storm
		description= _ "Storm"
		type=fire
		range=ranged
		damage=18
		number=3
		icon=attacks/lightning.png
        [specials]
            {WEAPON_SPECIAL_MAGICAL}
        [/specials]
	[/attack]
	[attack]
		name=staff
		description= _ "Staff"
		type=impact
		range=melee
		damage=10
		number=3
		icon=attacks/quarterstaff.png
	[/attack]
#	{DEFENSE_ANIM "units/primeval/storm-defend.png" "units/primeval/storm-defend.png" {SOUND_LIST:HUMAN_FEMALE_HIT}}

	[defend]
	start_time=-125
	offset=0.0~-0.05:125,-0.05~0.0:125
	[frame]
	    duration=50
	    image="units/primeval/storm-staff2.png"
	[/frame]	    
	[frame]
	    duration=150
	    image="units/primeval/storm-defend.png"
	    sound={SOUND_LIST:HUMAN_FEMALE_HIT}
	[/frame]	    
	[frame]
	    duration=50
	    image="units/primeval/storm-staff2.png"
	[/frame]	    
	[/defend]





# lifted from mainline Elder Mage
#define PRIMEVAL_STORM_LIGHTNING DIRECTION_NUMBER
	[attack_anim]
		[filter_attack]
			name=storm
		[/filter_attack]
		{LIGHTNING_BOLT {DIRECTION_NUMBER}}
# fix this
		[frame]
			begin=-375
			end=-300
			image="units/primeval/storm-strike0.png"
		[/frame]
		[if]
		hits=yes
			[frame]
				begin=-300
				end=-200
				image="units/primeval/storm-strike1.png"
				sound=lightning.ogg
			[/frame]
		[/if]
		[else]
		hits=no
			[frame]
				begin=-300
				end=-200
				image="units/primeval/storm-strike1.png"
				sound=lightning-miss.ogg
			[/frame]
		[/else]				
		[frame]
			begin=-200
			end=-100
			image="units/primeval/storm-strike2.png"
			offset=0.0~0.05
		[/frame]
		[frame]
			begin=-100
			end=0
			image="units/primeval/storm-strike3a.png"
			offset=0.05~0.1
		[/frame]
		[frame]
			begin=0
			end=100
			image="units/primeval/storm-strike3b.png"
			offset=0.1
		[/frame]
		[frame]
			begin=100
			end=200
			image="units/primeval/storm-strike3a.png"
			offset=0.1
		[/frame]
		[frame]
			begin=200
			end=250
			image="units/primeval/storm-strike1.png"
			offset=0.1~0.0
		[/frame]
		[frame]
			begin=250
			end=255
			image="units/primeval/storm.png"
		[/frame]
	[/attack_anim]
#enddef

	{PRIMEVAL_STORM_LIGHTNING 1}
	{PRIMEVAL_STORM_LIGHTNING 2}
	{PRIMEVAL_STORM_LIGHTNING 3}

	[attack_anim]
		[filter_attack]
			name=staff
		[/filter_attack]
		[frame]
			begin=-200
			end=-50
			image="units/primeval/storm-staff2.png"
		[/frame]
		[if]
		hits=yes
			[frame]
				begin=-50
				end=100
				image="units/primeval/storm-staff1.png"
#				image="units/primeval/storm-attack.png"
				sound=club.ogg
			[/frame]
		[/if]
		[else]
		hits=no
			[frame]
				begin=-50
				end=100
				image="units/primeval/storm-staff1.png"
				sound={SOUND_LIST:MISS}
			[/frame]
		[/else]				
		[frame]
			begin=100
			end=150
			image="units/primeval/storm-staff2.png"
		[/frame]
	[/attack_anim]
[/unit_type]

